import{S as C,W as A,R as M,H,I as P,g as b,j as y,k as I,C as m,A as L,P as W,d as R}from"./three.module.f8dbecb6.js";import{G as j}from"./dat.gui.module.6914edc7.js";import{O as v}from"./OrbitControls.d2b9efcc.js";let p=window.innerWidth,g=window.innerHeight,r=new C,t,h=new R(1,1),n,i=new A({antialias:!0}),f=new M;i.setPixelRatio(window.devicePixelRatio);let d=10,E=Math.pow(d,3);i.shadowMap.enabled=!0;k();z();O();F();x();let G=new j,S=G.addFolder("\u63A7\u5236");S.open();function k(){let e=new H(16777215,8947848);r.add(e)}function z(){const e=new P(.5,3),a=new b({color:16777215});n=new y(e,a,E);let s=0;const o=(d-1)/2,u=new I;for(let l=0;l<d;l++)for(let w=0;w<d;w++)for(let c=0;c<d;c++)u.setPosition(o-l,o-w,o-c),n.setMatrixAt(s,u),n.setColorAt(s,new m(16777215)),s++;r.add(n)}new v(t,i.domElement);i.setSize(p,g);document.body.appendChild(i.domElement);function F(){r.add(new L(10))}function x(){i.render(r,t),f.setFromCamera(h,t);const e=f.intersectObjects(r.children);let a=new m,s=new m(16777215);if(e.length>0){const o=e[0].instanceId;n.getColorAt(o,a),a.equals(s)&&(n.setColorAt(o,a.setHex(Math.random()*1048575)),n.instanceColor.needsUpdate=!0)}requestAnimationFrame(x)}window.addEventListener("resize",()=>{t.aspect=window.innerWidth/window.innerHeight,t.updateProjectionMatrix(),i.setSize(window.innerWidth,window.innerHeight)});window.addEventListener("mousemove",e=>{e.preventDefault(),h.x=e.clientX/window.innerWidth*2-1,h.y=-(e.clientY/window.innerHeight)*2+1});function O(){t=new W(75,p/g,.1,1e3),t.position.set(5,5,5),t.lookAt(0,0,0),r.add(t)}
