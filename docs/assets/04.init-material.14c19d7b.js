import"./modulepreload-polyfill.b7f2da20.js";import{S as x,t as A,n as p,a as m,o as P,p as C,q as b,P as z,A as L,W,C as H,V as B}from"./three.module.e9e6bd54.js";import{O as E}from"./OrbitControls.cacaacad.js";import{W as V,V as r,S as k,M as h,B as y,P as q,C as G}from"./cannon-es.bbb50b7f.js";let i=new x;const F=new A(1,20,20),I=new p,o=new m(F,I);o.castShadow=!0;o.position.set(0,10,0);i.add(o);const n=new m(new P(20,20),new p);n.position.set(0,0,0);n.rotation.x=-Math.PI/2;n.receiveShadow=!0;i.add(n);const R=new C(16777215,.5);i.add(R);const d=new b(16777215,.5);d.position.set(-5,8,-5);d.castShadow=!0;i.add(d);let s=new V;s.gravity=new r(0,-9.8,0);let D=new k(1),S=new h,a=new y({shape:D,material:S,mass:1,position:new r(o.position.x,o.position.y,o.position.z)});s.addBody(a);a.addEventListener("collide",l=>{const w=new Audio("/static/assets/metalHit.mp3"),c=l.contact.getImpactVelocityAlongNormal();console.log(c),c>2&&(w.currentTime=0,w.play())});let O=new q,u=new h,g=new y({shape:O,material:u,mass:0,position:new r(n.position.x,n.position.y,n.position.z)});g.quaternion.setFromAxisAngle(new r(1,0,0),-Math.PI/2);s.addBody(g);const T=new G(S,u,{friction:.1,restitution:.7});s.addContactMaterial(T);var M=window.innerWidth,f=window.innerHeight,j=M/f,e=new z(75,j,.1,1e3);e.position.z=15;e.position.y=15;e.position.x=15;let K=new L(5);i.add(K);const t=new W;t.shadowMap.enabled=!0;t.setSize(M,f);e.lookAt(0,0,0);t.render(i,e);document.body.appendChild(t.domElement);const N=new E(e,t.domElement);N.listenToKeyEvents(document.body);let J=new H;function v(l){t.render(i,e),s.step(1/120,J.getDelta()),o.position.copy(new B(a.position.x,a.position.y,a.position.z)),requestAnimationFrame(v)}window.requestAnimationFrame(v);window.addEventListener("resize",()=>{e.aspect=window.innerWidth/window.innerHeight,e.updateProjectionMatrix(),t.setSize(window.innerWidth,window.innerHeight),t.setPixelRatio(window.devicePixelRatio)});
