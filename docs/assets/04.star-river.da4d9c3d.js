import"./modulepreload-polyfill.b7f2da20.js";import{S as G,h as E,e as H,J as B,O as f,K as F,g,f as x,P as L,A as T,W as k,C as I}from"./three.module.e9e6bd54.js";import{O}from"./OrbitControls.cacaacad.js";import{G as R}from"./dat.gui.module.6914edc7.js";let w=new G;const e={count:1e3,size:.1,radius:5,branch:3,color:"#ff6030",rotateScale:.3,endColor:"#1b3984",rate:10},q=new E,M=q.load("/static/textures/particles/1.png");let u=new H;const a=new B({size:e.size,sizeAttenuation:!0,depthWrite:!1,blending:f,map:M,alphaMap:M,transparent:!0,vertexColors:!0});a.transparent=!0;a.depthWrite=!1;a.sizeAttenuation=!0;const b=new F(u,a);a.blending=f;w.add(b);let i=new R;i.add(e,"rotateScale").min(0).max(1).onChange(()=>{s()});i.add(e,"count").min(0).max(1e4).onChange(()=>{s()});i.addColor(e,"color").onChange(()=>{s()});i.addColor(e,"endColor").onChange(()=>{s()});i.add(e,"rate").min(0).max(20).onChange(()=>{});function s(){let p=new g(e.color);const h=new g(e.endColor);let d=new Float32Array(e.count*3),l=new Float32Array(e.count*3);for(let c=0;c<e.count;c++){const r=c*3;let C=c%e.branch/e.branch*2*Math.PI,z=Math.random(),t=e.radius*Math.pow(z,3);const P=Math.pow(Math.random()*2-1,3)*(e.radius-t)/5,S=Math.pow(Math.random()*2-1,3)*(e.radius-t)/5,W=Math.pow(Math.random()*2-1,3)*(e.radius-t)/5;d[r]=Math.sin(C+t*e.rotateScale)*t+P,d[r+1]=0+S,d[r+2]=Math.cos(C+t*e.rotateScale)*t+W;const m=p.clone();m.lerp(h,t/e.radius),l[r]=m.r,l[r+1]=m.g,l[r+2]=m.b}u.setAttribute("position",new x(d,3)),u.setAttribute("color",new x(l,3))}s();var A=window.innerWidth,v=window.innerHeight,K=A/v,n=new L(75,K,.1,1e3);n.position.z=10;n.position.y=10;n.position.x=10;let j=new T(5);w.add(j);const o=new k;o.setSize(A,v);o.render(w,n);document.body.appendChild(o.domElement);const J=new O(n,o.domElement);J.listenToKeyEvents(document.body);let U=new I;function y(p){let h=U.getElapsedTime()%e.rate/e.rate;b.rotation.set(0,h*Math.PI*2,0),o.render(w,n),requestAnimationFrame(y)}window.requestAnimationFrame(y);window.addEventListener("resize",()=>{n.aspect=window.innerWidth/window.innerHeight,n.updateProjectionMatrix(),o.setSize(window.innerWidth,window.innerHeight),o.setPixelRatio(window.devicePixelRatio)});
